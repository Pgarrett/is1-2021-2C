

----QUIT----(13 November 2021 20:18:32) CuisUniversity-4972.image priorSource: 14896235!

----STARTUP---- (13 November 2021 20:18:33) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4972.image!


----QUIT----(13 November 2021 20:18:33) CuisUniversity-4972.image priorSource: 18974023!

----STARTUP---- (14 November 2021 20:38:48) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!


----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity_preHTTP/TusLibros-Tests.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/System/Collections-CompactArrays.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Features/Compression.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Features/Sound.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Features/Cryptography-DigitalSignatures.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Features/Identities-UUID.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/System/Network-Kernel.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/is1-2021-2C/20-TusLibros/iteracion4/WebClient.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity_preHTTP/TusLibros-Model.st----!

!classRemoval: #ManualClock stamp: 'PhG 11/14/2021 20:41:54'!
ProtoObject subclass: #ManualClock
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #StoreTestObjectsFactory stamp: 'PhG 11/14/2021 20:41:54'!
Object subclass: #StoreTestObjectsFactory
	instanceVariableNames: 'today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #TusLibrosSystemFacadeTest stamp: 'PhG 11/14/2021 20:41:54'!
TestCase subclass: #TusLibrosSystemFacadeTest
	instanceVariableNames: 'testObjectsFactory clock systemFacade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #CashierTest stamp: 'PhG 11/14/2021 20:41:55'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjectsFactory debitBehavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #CartTest stamp: 'PhG 11/14/2021 20:41:55'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjectsFactory'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity_preHTTP/TusLibros-Tests.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/14/2021 20:52:37'!
PASSED!
!TusLibrosSystemFacadeTest methodsFor: 'tests - add to cart' stamp: 'PhG 11/14/2021 20:53:19'!
test22CanRemoveItemsFromACreatedCartWithItems

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.

	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	self assert: ((systemFacade listCartIdentifiedAs: cartId) occurrencesOf: self validBook) equals: 1
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - add to cart' stamp: 'PhG 11/14/2021 20:53:36'!
test23CanNotRemoveItemsFromNotCreatedCart

	self
		should: [systemFacade add: 1 of: self validBook toCartIdentifiedAs: self invalidCartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade invalidCartIdErrorDescription ]
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - add to cart' stamp: 'PhG 11/14/2021 20:53:51'!
test24CanNotRemoveItemNotSoldByTheStore

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	self
		should: [systemFacade add: 1 of: self invalidBook toCartIdentifiedAs: cartId ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade invalidItemErrorMessage.
			self assert: (systemFacade listCartIdentifiedAs: cartId) isEmpty ]
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - add to cart' stamp: 'PhG 11/14/2021 20:54:09'!
test25CanNotRemoveFromCartWhenSessionIsExpired

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	self advanceTime: (systemFacade sessionDuration + 1 minutes) .
	self
		should: [systemFacade add: 2 of: self validBook toCartIdentifiedAs: cartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade sessionHasExpiredErrorDescription.
			self revertTime: systemFacade sessionDuration.
			self assert: (systemFacade listCartIdentifiedAs: cartId) isEmpty ]
! !
!TusLibrosSystemFacadeTest methodsFor: 'tests -  remove from cart' stamp: 'PhG 11/14/2021 20:55:14' prior: 50964581!
test22CanRemoveItemsFromACreatedCartWithItems

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.

	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	systemFacade remove: 1 of: self validBook toCartIdentifiedAs: cartId.

	self assert: ((systemFacade listCartIdentifiedAs: cartId) occurrencesOf: self validBook) equals: 0
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests -  remove from cart' stamp: 'PhG 11/14/2021 20:55:33' prior: 50964595!
test23CanNotRemoveItemsFromNotCreatedCart

	self
		should: [systemFacade remove: 1 of: self validBook toCartIdentifiedAs: self invalidCartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade invalidCartIdErrorDescription ]
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests -  remove from cart' stamp: 'PhG 11/14/2021 20:55:48' prior: 50964608!
test24CanNotRemoveItemNotSoldByTheStore

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	self
		should: [systemFacade remove: 1 of: self invalidBook toCartIdentifiedAs: cartId ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade invalidItemErrorMessage.
			self assert: (systemFacade listCartIdentifiedAs: cartId) isEmpty ]
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests -  remove from cart' stamp: 'PhG 11/14/2021 20:56:01' prior: 50964626!
test25CanNotRemoveFromCartWhenSessionIsExpired

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	self advanceTime: (systemFacade sessionDuration + 1 minutes) .
	self
		should: [systemFacade remove: 1 of: self validBook toCartIdentifiedAs: cartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade sessionHasExpiredErrorDescription.
			self revertTime: systemFacade sessionDuration.
			self assert: (systemFacade listCartIdentifiedAs: cartId) isEmpty ]
! !
!TusLibrosSystemFacadeTest methodsFor: 'tests -  remove from cart' stamp: 'PhG 11/14/2021 20:56:15' prior: 50964699!
test25CanNotRemoveFromCartWhenSessionIsExpired

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.

	self advanceTime: (systemFacade sessionDuration + 1 minutes) .
	self
		should: [systemFacade remove: 1 of: self validBook toCartIdentifiedAs: cartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade sessionHasExpiredErrorDescription.
			self revertTime: systemFacade sessionDuration.
			self assert: (systemFacade listCartIdentifiedAs: cartId) isEmpty ]
! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/14/2021 21:08:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/14/2021 21:08:51'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/14/2021 21:08:51'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:08:51'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:08:51'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/14/2021 21:09:05'!
ERROR!
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'PhG 11/14/2021 21:09:13'!
remove: aSmallInteger of: aString toCartIdentifiedAs: aSmallInteger3 
	self shouldBeImplemented.! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'PhG 11/14/2021 21:09:28' prior: 50964915!
remove: aQuantity of: anItem toCartIdentifiedAs: aCartId
	self shouldBeImplemented.! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'PhG 11/14/2021 21:10:04' prior: 50964922!
remove: anAmount of: aBook toCartIdentifiedAs: aCartId

	self withCartSessionIdentifiedAs: aCartId do: [ :cartSession | cartSession remove: anAmount of: aBook ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/14/2021 21:10:06'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/14/2021 21:10:06'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:10:06'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:10:06'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:10:51'!
FAILURE!
!TusLibrosSystemFacadeTest methodsFor: 'tests -  remove from cart' stamp: 'PhG 11/14/2021 21:11:06' prior: 50964722!
test25CanNotRemoveFromCartWhenSessionIsExpired

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.

	self advanceTime: (systemFacade sessionDuration + 1 minutes) .
	self
		should: [systemFacade remove: 1 of: self validBook toCartIdentifiedAs: cartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade sessionHasExpiredErrorDescription.
			self revertTime: systemFacade sessionDuration.
			self deny: (systemFacade listCartIdentifiedAs: cartId) isEmpty ]
! !

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/14/2021 21:11:18'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:11:18'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:11:18'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:11:40'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/14/2021 21:12:25'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/14/2021 21:12:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:12:25'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:12:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:12:45'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:12:45'!
ERROR!
!CartSession methodsFor: 'cart' stamp: 'PhG 11/14/2021 21:12:57'!
remove: aSmallInteger of: aString 
	self shouldBeImplemented.! !
!CartSession methodsFor: 'cart' stamp: 'PhG 11/14/2021 21:13:02' prior: 50965257!
remove: anAmount of: aString 
	self shouldBeImplemented.! !
!CartSession methodsFor: 'cart' stamp: 'PhG 11/14/2021 21:13:06' prior: 50965262!
remove: anAmount of: aBook 
	self shouldBeImplemented.! !
!CartSession methodsFor: 'cart' stamp: 'PhG 11/14/2021 21:13:21' prior: 50965267!
remove: anAmount of: aBook 
	
	^cart remove: anAmount of: aBook! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/14/2021 21:13:23'!
PASSED!

server := TusLibrosRestAPI listeningOn: 8083.!

server!

cartSessions at: 1!

cartSessions at: 1!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/is1-2021-2C/20-TusLibros/iteracion4/StringsServicesServer.st----!

server!

tusLibrosFacade listCartIdentifiedAs: 1!

tusLibrosFacade listCartIdentifiedAs: 2!

server destroy.!

server destroy.!
!TusLibrosRestAPI methodsFor: 'initialization' stamp: 'PhG 11/14/2021 22:20:06' prior: 50962948!
initializeWith: aPortNumber
	
	tusLibrosFacade := TusLibrosSystemFacade
		authenticatingWith: MockUserDB new users
		acceptingItemsOf: MockCatalogue new catalogue 
		registeringOn: OrderedCollection new
		debitingThrought: MockMerchantProcessor new
		measuringTimeWith: RealClock new.
	
	port:= aPortNumber.
	
	webServer := WebServer new listenOn: self port.
	
	self registerCreateCartEndpoint.
	self registerAddToCartEndpoint.
	self registerListCartEndpoint.
	self registerCheckoutCartEndpoint.
	self registerListPurchasesEndpoint.
	self registerListCatalogueEndpoint.
	self registerRemoveFromCartEndpoint.! !

----QUIT----(14 November 2021 22:20:25) CuisUniversity-4972.image priorSource: 18974255!

----STARTUP---- (15 November 2021 17:06:15) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!

!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:27:11' prior: 50962995!
registerAddToCartEndpoint

	webServer addService: '/addToCart' action:[:request |	 | cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := (request fields at: 'bookIsbn' ).
		bookQuantity := (request fields at: 'bookQuantity' )asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:30:38' prior: 50963012!
registerCheckoutCartEndpoint
	
	webServer addService: '/checkOutCart' action:[:request |	 | cartId cardNumber cardExpirationDate cardHolder ticket |
		[cartId := (request fields at: 'cartId' ).
		cardNumber := (request fields at: 'ccn' ).
		cardExpirationDate := (request fields at: 'cced' ).
		cardHolder := (request fields at: 'cco' ).
		ticket := tusLibrosFacade checkOutCartIdentifiedAs: cartId withCreditCardNumbered: cardNumber ownedBy: cardHolder expiringOn: cardExpirationDate.
		self respond200WithBody: ('OK') for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:31:36' prior: 50965674!
registerCheckoutCartEndpoint
	
	webServer addService: '/checkOutCart' action:[:request |	 | cartId cardNumber cardExpirationDate cardHolder ticket |
		[cartId := (request fields at: 'cartId' ) asNumber.
		cardNumber := (request fields at: 'ccn' ).
		cardExpirationDate := (request fields at: 'cced' ).
		cardHolder := (request fields at: 'cco' ).
		ticket := tusLibrosFacade checkOutCartIdentifiedAs: cartId withCreditCardNumbered: cardNumber ownedBy: cardHolder expiringOn: cardExpirationDate.
		self respond200WithBody: ('OK') for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:31:55' prior: 50965696!
registerCheckoutCartEndpoint
	
	webServer addService: '/checkOutCart' action:[:request |	 | cartId cardNumber cardExpirationDate cardHolder ticket |
		[cartId := (request fields at: 'cartId') asNumber.
		cardNumber := (request fields at: 'ccn') asNumber.
		cardExpirationDate := (request fields at: 'cced').
		cardHolder := (request fields at: 'cco').
		ticket := tusLibrosFacade checkOutCartIdentifiedAs: cartId withCreditCardNumbered: cardNumber ownedBy: cardHolder expiringOn: cardExpirationDate.
		self respond200WithBody: ('OK') for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:32:11' prior: 50965656!
registerAddToCartEndpoint

	webServer addService: '/addToCart' action:[:request |	 | cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := (request fields at: 'bookIsbn').
		bookQuantity := (request fields at: 'bookQuantity') asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:32:16' prior: 50963035!
registerCreateCartEndpoint
	
	webServer addService: '/createCart' action:[:request |	| cartId password username |
		[username := (request fields at: 'username').
		password := (request fields at: 'password').
		cartId := tusLibrosFacade createCartFor: username authenticatedWith: password.
		self respond200WithBody: cartId for: request
		 ]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:32:24' prior: 50963051!
registerListCartEndpoint
	
	webServer addService: '/listCart' action:[:request |	 | cartId cartContent |
		[cartId := (request fields at: 'cartId') asNumber.
		cartContent := tusLibrosFacade listCartIdentifiedAs: cartId.
		self respond200WithBody: cartContent for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:32:33' prior: 50963074!
registerListPurchasesEndpoint
	
	webServer addService: '/listPurchases' action:[:request |	 | purchases password username |
		[username := (request fields at: 'username').
		password := (request fields at: 'password').
		purchases := tusLibrosFacade listPurchasesOf: username authenticatingWith: password.
		self respond200WithBody: purchases for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:33:03' prior: 50963090!
registerRemoveFromCartEndpoint

	webServer addService: '/removeFromCart' action:[:request |	 | cartId bookIsbn bookQuantity |
		[cartId := request fields at: 'cartId'.
		bookIsbn := request fields at: 'bookIsbn'.
		bookQuantity := request fields at: 'bookQuantity'.
		tusLibrosFacade remove: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:33:12' prior: 50965789!
registerListPurchasesEndpoint
	
	webServer addService: '/listPurchases' action:[:request |	 | purchases password username |
		[username := request fields at: 'username'.
		password := request fields at: 'password'.
		purchases := tusLibrosFacade listPurchasesOf: username authenticatingWith: password.
		self respond200WithBody: purchases for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:33:29' prior: 50965759!
registerCreateCartEndpoint
	
	webServer addService: '/createCart' action:[:request |	| cartId password username |
		[username := request fields at: 'username'.
		password := request fields at: 'password'.
		cartId := tusLibrosFacade createCartFor: username authenticatedWith: password.
		self respond200WithBody: cartId for: request
		 ]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:33:38' prior: 50965718!
registerCheckoutCartEndpoint
	
	webServer addService: '/checkOutCart' action:[:request |	 | cartId cardNumber cardExpirationDate cardHolder ticket |
		[cartId := (request fields at: 'cartId') asNumber.
		cardNumber := (request fields at: 'ccn') asNumber.
		cardExpirationDate := request fields at: 'cced'.
		cardHolder := request fields at: 'cco'.
		ticket := tusLibrosFacade checkOutCartIdentifiedAs: cartId withCreditCardNumbered: cardNumber ownedBy: cardHolder expiringOn: cardExpirationDate.
		self respond200WithBody: ('OK') for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:33:43' prior: 50965857!
registerCheckoutCartEndpoint
	
	webServer addService: '/checkOutCart' action:[:request |	 | cartId cardNumber cardExpirationDate cardHolder ticket |
		[cartId := (request fields at: 'cartId') asNumber.
		cardNumber := (request fields at: 'ccn') asNumber.
		cardExpirationDate := request fields at: 'cced'.
		cardHolder := request fields at: 'cco'.
		ticket := tusLibrosFacade checkOutCartIdentifiedAs: cartId withCreditCardNumbered: cardNumber ownedBy: cardHolder expiringOn: cardExpirationDate.
		self respond200WithBody: 'OK' for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:33:53' prior: 50965741!
registerAddToCartEndpoint

	webServer addService: '/addToCart' action:[:request |	 | cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := request fields at: 'bookIsbn'.
		bookQuantity := (request fields at: 'bookQuantity') asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:35:20'!
addToCartFor: request

	| cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := request fields at: 'bookIsbn'.
		bookQuantity := (request fields at: 'bookQuantity') asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/15/2021 17:35:20' prior: 50965901!
registerAddToCartEndpoint

	webServer addService: '/addToCart' action:[:request |	 self addToCartFor: request]! !
!TusLibrosRestAPI methodsFor: 'initialization' stamp: 'PhG 11/15/2021 17:39:21' prior: 50965626!
initializeWith: aPortNumber
	
	tusLibrosFacade := TusLibrosSystemFacade
		authenticatingWith: MockUserDB new users
		acceptingItemsOf: MockCatalogue new catalogue 
		registeringOn: OrderedCollection new
		debitingThrought: MockMerchantProcessor new
		measuringTimeWith: RealClock new.
	
	port := aPortNumber.
	
	webServer := WebServer new listenOn: self port.
	
	self registerCreateCartEndpoint.
	self registerAddToCartEndpoint.
	self registerListCartEndpoint.
	self registerCheckoutCartEndpoint.
	self registerListPurchasesEndpoint.
	self registerListCatalogueEndpoint.
	self registerRemoveFromCartEndpoint.! !

CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

!classDefinition: #ColorExtrasPackage category: 'Color-Extras' stamp: 'Install-Color-Extras 11/15/2021 17:46:15'!
CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

ColorExtrasPackage class
	instanceVariableNames: ''!

!classDefinition: 'ColorExtrasPackage class' category: 'Color-Extras' stamp: 'Install-Color-Extras 11/15/2021 17:46:15'!
ColorExtrasPackage class
	instanceVariableNames: ''!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Features/Color-Extras.pck.st----!

CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!

!classDefinition: #MorphicMisc1Package category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 11/15/2021 17:46:16'!
CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!
!MorphicMisc1Package commentStamp: '<historical>' prior: 0!
My purpose in life is to check that any base image methods overridden have not been updated.
See #MorphMisc1Package class>>prePackageInstall!

MorphicMisc1Package class
	instanceVariableNames: ''!

!classDefinition: 'MorphicMisc1Package class' category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 11/15/2021 17:46:16'!
MorphicMisc1Package class
	instanceVariableNames: ''!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Morphic/Morphic-Misc1/Morphic-Misc1.pck.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/Morphic/Morphic-Widgets-Extras.pck.st----!

----SNAPSHOT----(15 November 2021 17:47:03) CuisUniversity-4972.image priorSource: 20287906!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/is1-2021-2C/20-TusLibros/iteracion4/WordsClientDemo.st----!

server := TusLibrosRestAPI listeningOn: 8083.!

server destroy.!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/Packages/TerseGuide.pck.st----!

b := Bag new.

b add: '1'.
b add: '2'.
b add: '2'.
b add: '3'.
b add: '3'.
b add: '3'.!

b!

s := b asSet.!

s!

----QUIT----(15 November 2021 18:43:43) CuisUniversity-4972.image priorSource: 20607266!

----STARTUP---- (15 November 2021 19:08:28) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!


client := WordsClientWindow open.!

SystemWindow subclass: #TusLibrosWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:40:56'!
SystemWindow subclass: #TusLibrosWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 19:41:53'!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 19:42:12'!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	! !

!classDefinition: #TusLibrosWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:42:42'!
SystemWindow subclass: #TusLibrosWindow
	instanceVariableNames: 'sentenceTextBoxMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:42:41'!
build1stRow
	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Send Request To Server'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph innerTextMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter sentence:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:43:09'!
SystemWindow subclass: #TusLibrosWindow
	instanceVariableNames: 'sentenceTextBoxMorph wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:43:07'!
build1stColumn2ndRow
	| firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
		
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Results');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 1.
	wordsListMorph layoutSpec proportionalHeight: 1."
		
	^firstColumnLayoutMorphOfSecondRow.! !
!TusLibrosWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:43:16'!
build2ndRow
	| showInTranscriptButtonMorph secondRowLayoutMorph |
	
	showInTranscriptButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Show Selected Word In Transcript'.	
	
	secondRowLayoutMorph := LayoutMorph newRow.
	secondRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: self build1stColumn2ndRow;
	addMorph: showInTranscriptButtonMorph.
	
	^secondRowLayoutMorph.
	! !
!TusLibrosWindow methodsFor: 'initialization' stamp: 'PhG 11/15/2021 19:43:44' prior: 50978833!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 19:43:48'!
refreshListOfWords
	
	wordsListMorph updateList.
	wordsListMorph setSelectionIndex: 0.
	! !
!TusLibrosWindow class methodsFor: 'nil' stamp: 'PhG 11/15/2021 19:44:19'!
open
	
	^self new initializeWith: 'Words-Service Client Window'.! !
!TusLibrosWindow class methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:44:32' prior: 50978956!
open
	
	^self new initializeWith: 'TusLibros-Service Client Window'.! !

client := TusLibrosWindow open.!

!classRenamed: #TusLibrosWindow as: #TusLibrosCreateCartWindow stamp: 'PhG 11/15/2021 19:46:16'!
Smalltalk renameClassNamed: #TusLibrosWindow as: #TusLibrosCreateCartWindow!
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/15/2021 19:46:33' prior: 50978941!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/15/2021 19:46:38' prior: 50978975!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:46:48' prior: 50978844!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !
!TusLibrosCreateCartWindow class methodsFor: 'instance creation' stamp: 'PhG 11/15/2021 19:47:02' prior: 50978962!
open
	
	^self new initializeWith: 'TusLibros-Create Cart'.! !
!TusLibrosCreateCartWindow class methodsFor: 'instance creation' stamp: 'PhG 11/15/2021 19:47:13' prior: 50979019!
open
	
	^self new initializeWith: 'TusLibros - Create Cart'.! !
!TusLibrosCreateCartWindow class methodsFor: 'instance creation' stamp: 'PhG 11/15/2021 19:47:15' prior: 50979025!
open
	
	^self new initializeWith: 'TusLibros: Create Cart'.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:48:58' prior: 50978860!
build1stRow
	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'.
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph innerTextMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter sentence:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:51:10' prior: 50979038!
build1stRow
	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'.
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph innerTextMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:51:29'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'usernameTextBoxMorph wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:51:29' prior: 50979069!
build1stRow
	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'.
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:51:58' prior: 50979109!
build1stRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph;
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:53:16' prior: 50979140!
build1stRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:53:37' prior: 50979170!
build1stRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 100. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:53:43' prior: 50979201!
build1stRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:54:23'!
buildUsernameRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:54:23' prior: 50979003!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildUsernameRow;
	addMorph: self build2ndRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

!methodRemoval: TusLibrosCreateCartWindow #build1stRow stamp: 'PhG 11/15/2021 19:54:23'!
build1stRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:54:34'!
buildPasswordRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:54:47' prior: 50979336!
buildPasswordRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:54:54'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'passwordTextBoxMorph wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:54:54' prior: 50979262!
buildUsernameRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: passwordTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:54:54' prior: 50979366!
buildPasswordRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: passwordTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:55:24' prior: 50979292!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildUsernameRow;
	addMorph: self buildPasswordRow;
	addMorph: self build2ndRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:55:43' prior: 50978924!
build2ndRow
	| showInTranscriptButtonMorph secondRowLayoutMorph |
	
	showInTranscriptButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Show Selected Word In Transcript'.	
	
	secondRowLayoutMorph := LayoutMorph newRow.
	secondRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: showInTranscriptButtonMorph.
	
	^secondRowLayoutMorph.
	! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:55:58' prior: 50979484!
build2ndRow
	| createCartButtonMorph secondRowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Show Selected Word In Transcript'.	
	
	secondRowLayoutMorph := LayoutMorph newRow.
	secondRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^secondRowLayoutMorph.
	! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:56:05' prior: 50979501!
build2ndRow
	| createCartButtonMorph secondRowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	secondRowLayoutMorph := LayoutMorph newRow.
	secondRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^secondRowLayoutMorph.
	! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:56:24' prior: 50979406!
buildUsernameRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:56:30' prior: 50979534!
buildUsernameRow
	| firstRowLayoutMorph |
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:56:41'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'usernameTextBoxMorph wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:56:41' prior: 50979563!
buildUsernameRow
	| firstRowLayoutMorph |
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: usernameTextBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:56:41' prior: 50979436!
buildPasswordRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	usernameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	usernameTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | usernameTextBoxMorph innerTextMorph acceptContents ] .
	usernameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: usernameTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:56:55'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'passwordTextBoxMorph wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:56:55' prior: 50979595!
buildUsernameRow
	| firstRowLayoutMorph |
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:56:55' prior: 50979618!
buildPasswordRow
	| firstRowLayoutMorph |
	
	"sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create Cart'."
	"evaluar si vale la pena buscar las compras desde esta pantalla"
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: passwordTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:57:01' prior: 50979681!
buildPasswordRow
	| firstRowLayoutMorph |
		
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: passwordTextBoxMorph.
" 	addMorph: sendRequestButtonMorph."
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:57:04' prior: 50979711!
buildPasswordRow
	| firstRowLayoutMorph |
		
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:57:21'!
buildCreateCartButtonRow
	| createCartButtonMorph secondRowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	secondRowLayoutMorph := LayoutMorph newRow.
	secondRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^secondRowLayoutMorph.
	! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:57:21' prior: 50979466!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildUsernameRow;
	addMorph: self buildPasswordRow;
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

!methodRemoval: TusLibrosCreateCartWindow #build2ndRow stamp: 'PhG 11/15/2021 19:57:21'!
build2ndRow
	| createCartButtonMorph secondRowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	secondRowLayoutMorph := LayoutMorph newRow.
	secondRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^secondRowLayoutMorph.
	!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:57:43'!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph |
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:57:52' prior: 50979804!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph |
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:58:03' prior: 50979827!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph |
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	passwordTextBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph innerTextMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: passwordTextBoxMorph.
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:58:09'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'textBoxMorph wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:58:09' prior: 50979850!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:58:09' prior: 50979658!
buildUsernameRow
	| firstRowLayoutMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 19:58:09' prior: 50979735!
buildPasswordRow
	| firstRowLayoutMorph |
		
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:58:19' prior: 50979882!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !

SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'textBoxMorph2 wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 19:58:25'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'textBoxMorph2 wordsListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:58:33' prior: 50979925!
buildPasswordRow
	| firstRowLayoutMorph textBoxMorph |
		
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:58:40' prior: 50979946!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:59:14' prior: 50979773!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:');
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:');
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

client := TusLibrosCreateCartWindow open.!

!methodRemoval: TusLibrosCreateCartWindow #buildPasswordRow stamp: 'PhG 11/15/2021 19:59:27'!
buildPasswordRow
	| firstRowLayoutMorph textBoxMorph |
		
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Password');
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.!

!methodRemoval: TusLibrosCreateCartWindow #buildUsernameRow stamp: 'PhG 11/15/2021 19:59:30'!
buildUsernameRow
	| firstRowLayoutMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Username:');
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:59:50' prior: 50980004!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 100. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 19:59:58' prior: 50980087!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:00:08' prior: 50980111!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:00:24' prior: 50980135!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:00:42' prior: 50980159!
buildTextBoxRowIdentifiedBy: aLabel
	| firstRowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:00:57' prior: 50980026!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 5;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:');
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:');
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:01:18' prior: 50980207!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:');
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:');
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

client := TusLibrosCreateCartWindow open.!

LabelMorph!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:08:08'!
buildInvalidCredentialsRow
	| firstRowLayoutMorph |
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Invalid Credentials' ) hide.
	
	^firstRowLayoutMorph.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:08:45'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'textBoxMorph2 wordsListMorph invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:08:43' prior: 50980247!
buildInvalidCredentialsRow
	| firstRowLayoutMorph |
	
	invalidCredentialsRow := (LabelMorph contents:'Invalid Credentials' ).
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: invalidCredentialsRow hide.
	
	^firstRowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:09:03'!
showInvalidCredentialsRow
	
	invalidCredentialsRow show.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:09:29' prior: 50980227!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:');
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:');
	addMorph: self buildInvalidCredentialsRow;
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:09:54' prior: 50980268!
buildInvalidCredentialsRow
	| firstRowLayoutMorph |
	
	invalidCredentialsRow := (LabelMorph contents:'Invalid Credentials' ).
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: invalidCredentialsRow.
	invalidCredentialsRow hide.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!

client showInvalidCredentialsRow !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:10:33' prior: 50980309!
buildInvalidCredentialsRow
	| firstRowLayoutMorph |
	
	invalidCredentialsRow := (LabelMorph contents:'Invalid Credentials' ).
	invalidCredentialsRow hide.
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: invalidCredentialsRow.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:10:47' prior: 50980325!
buildInvalidCredentialsRow
	| firstRowLayoutMorph |
	
	invalidCredentialsRow := (LabelMorph contents:'Invalid Credentials' ).
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: invalidCredentialsRow.
	invalidCredentialsRow hide.
	
	^firstRowLayoutMorph.! !

client := TusLibrosCreateCartWindow open.!

----SNAPSHOT----(15 November 2021 20:10:59) CuisUniversity-4972.image priorSource: 20709183!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:11:15' prior: 50980340!
buildInvalidCredentialsRow
	| rowLayoutMorph |
	
	invalidCredentialsRow := (LabelMorph contents:'Invalid Credentials' ).
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: invalidCredentialsRow.
	invalidCredentialsRow hide.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:11:25' prior: 50979757!
buildCreateCartButtonRow
	| createCartButtonMorph rowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:11:30' prior: 50980184!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^rowLayoutMorph.! !

SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'wordsListMorph invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:11:48'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'wordsListMorph invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!methodRemoval: TusLibrosCreateCartWindow #build1stColumn2ndRow stamp: 'PhG 11/15/2021 20:12:13'!
build1stColumn2ndRow
	| firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
		
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Results');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 1.
	wordsListMorph layoutSpec proportionalHeight: 1."
		
	^firstColumnLayoutMorphOfSecondRow.!

SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: 'wordsListMorph invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCatalogueWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:13:37'!
SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: 'wordsListMorph invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:14:10'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'access' stamp: 'PhG 11/15/2021 20:14:24' prior: 50978950!
refreshListOfWords
	
"	wordsListMorph updateList.
	wordsListMorph setSelectionIndex: 0."
	! !
!TusLibrosCatalogueWindow class methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:15:51'!
open
	
	^self new initializeWith: 'TusLibros: List Catalogue'.! !
!TusLibrosCatalogueWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:19:29'!
build1stColumn
	| firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
		
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Results');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 1.
	wordsListMorph layoutSpec proportionalHeight: 1."
		
	^firstColumnLayoutMorphOfSecondRow.! !
!TusLibrosCatalogueWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:19:48'!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	! !
!TusLibrosCatalogueWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:20:15'!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:20:52' prior: 50980516!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stColumn;
	addMorph: self build2ndColumn;
	addMorph: self build3rdColumn.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:21:04' prior: 50980534!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stColumn;
	addMorph: self build2ndColumn;
	addMorph: self build3rdColumn.
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:21:59' prior: 50980544!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stColumn; "logout + catalogo + new"
	addMorph: self build2ndColumn; "cantidad + '>>' + '<<' "
	addMorph: self build3rdColumn. "historial + carrito + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !

wordsClient := WordsClientWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:23:04' prior: 50980490!
build1stColumn
	| firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
		
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo');
	addMorph: wordsListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:25:27'!
buildLogoutHistoryButtonsRow
	| rowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
"	addMorph: (LabelMorph contents:);"
	addMorph: textBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:25:47' prior: 50980569!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildLogoutHistoryButtonsRow ; "logout + blank + historial"
	addMorph: self build2ndColumn; "cantidad + '>>' + '<<' "
	addMorph: self build3rdColumn. "historial + carrito + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:26:20' prior: 50980641!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildLogoutHistoryButtonsRow ; "logout + blank + historial"
	addMorph: self buildListsAndAddRemoveRow; "catalogo + cantidad + '>>' + '<<' carrito"
	addMorph: self build3rdColumn. "historial + carrito + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:26:36' prior: 50980669!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildLogoutHistoryButtonsRow ; "logout + blank + historial"
	addMorph: self buildListsAndAddRemoveRow; "catalogo + cantidad + '>>' + '<<' carrito"
	addMorph: self buildNewCheckoutButtonsRow. "new + blank + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:27:16' prior: 50980619!
buildLogoutHistoryButtonsRow
	| createCartButtonMorph rowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:27:23' prior: 50980727!
buildLogoutHistoryButtonsRow
	| logoutButtonMorph rowLayoutMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:27:55' prior: 50980742!
buildLogoutHistoryButtonsRow
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:29:53' prior: 50980757!
buildLogoutHistoryButtonsRow
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:30:19' prior: 50980698!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildLogoutHistoryButtonsRow. "logout + blank + historial"
"	addMorph: self buildListsAndAddRemoveRow; ""catalogo + cantidad + '>>' + '<<' carrito"
"	addMorph: self buildNewCheckoutButtonsRow." "new + blank + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:31:12' prior: 50980797!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buildLogoutHistoryButtonsRow; "logout + blank + historial"
	addMorph: self buildListsAndAddRemoveRow; "catalogo + cantidad + '>>' + '<<' carrito"
	addMorph: self buildNewCheckoutButtonsRow. "new + blank + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:31:22' prior: 50980776!
buildLogoutHistoryButtonsRow
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:31:27'!
buildListsAndAddRemoveRow
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:32:15'!
buildCatalogueColumn
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:32:30' prior: 50980899!
buildCatalogueColumn
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:32:52' prior: 50980920!
buildCatalogueColumn
	| logoutButtonMorph rowLayoutMorph historialButtonMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !

SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: 'invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCatalogueWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:33:01'!
SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: 'invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:33:39' prior: 50980940!
buildCatalogueColumn
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Results');
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:33:45' prior: 50980975!
buildCatalogueColumn
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo');
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:33:59'!
buildCartColumn
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:34:07' prior: 50981013!
buildCartColumn
	| columnLayoutMorph cartListMorph |
	
	cartListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:34:28'!
buildQuantityAndAddRemoveCartColumn
	| columnLayoutMorph cartListMorph |
	
	cartListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:34:34'!
buildQuantityAndAddRemoveColumn
	| columnLayoutMorph cartListMorph |
	
	cartListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.
	! !

!methodRemoval: TusLibrosCatalogueWindow #buildQuantityAndAddRemoveCartColumn stamp: 'PhG 11/15/2021 20:34:34'!
buildQuantityAndAddRemoveCartColumn
	| columnLayoutMorph cartListMorph |
	
	cartListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.
	!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:35:10' prior: 50981068!
buildQuantityAndAddRemoveColumn
	| columnLayoutMorph cartListMorph addToCartButtonMorph removeFromCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '>>'.	
	removeFromCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '<<'.	
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:36:52' prior: 50981105!
buildQuantityAndAddRemoveColumn
	| columnLayoutMorph cartListMorph addToCartButtonMorph removeFromCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '>>'.	
	removeFromCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '<<'.	
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:37:14'!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	quantityBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] .
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:37:18' prior: 50981148!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] .
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:37:39' prior: 50981127!
buildQuantityAndAddRemoveColumn
	| columnLayoutMorph cartListMorph addToCartButtonMorph removeFromCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '>>'.	
	removeFromCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '<<'.	
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self buildQuantityRow;
	addMorph: cartListMorph.
	
	^columnLayoutMorph.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:37:57' prior: 50981192!
buildQuantityAndAddRemoveColumn
	| columnLayoutMorph addToCartButtonMorph removeFromCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '>>'.	
	removeFromCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '<<'.	
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self buildQuantityRow;
	addMorph: addToCartButtonMorph;
	addMorph: removeFromCartButtonMorph .
	
	^columnLayoutMorph.! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:38:00' prior: 50981213!
buildQuantityAndAddRemoveColumn
	| columnLayoutMorph addToCartButtonMorph removeFromCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '>>'.	
	removeFromCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: '<<'.	
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self buildQuantityRow;
	addMorph: addToCartButtonMorph;
	addMorph: removeFromCartButtonMorph .
	
	^columnLayoutMorph.! !

!methodRemoval: TusLibrosCatalogueWindow #build1stColumn stamp: 'PhG 11/15/2021 20:38:29'!
build1stColumn
	| firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
		
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo');
	addMorph: wordsListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.!

!methodRemoval: TusLibrosCatalogueWindow #buildCartColumn stamp: 'PhG 11/15/2021 20:38:33'!
buildCartColumn
	| columnLayoutMorph cartListMorph |
	
	cartListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph.
	
	^columnLayoutMorph.
	!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:39:49'!
buildCartColumn
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:40:46' prior: 50980878!
buildListsAndAddRemoveRow
	| rowLayoutMorph |
	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: self buildCatalogueColumn;
	addMorph: self buildQuantityAndAddRemoveColumn ;
	addMorph: self buildCartColumn .
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:41:44'!
buildNewCheckoutButtonsRow
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'New Cart'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Checkout'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:41:49' prior: 50981326!
buildNewCheckoutButtonsRow
	| logoutButtonMorph rowLayoutMorph checkoutButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'New Cart'.	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Checkout'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: checkoutButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:41:59' prior: 50981347!
buildNewCheckoutButtonsRow
	| newCartButtonMorph rowLayoutMorph checkoutButtonMorph |
	
	newCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'New Cart'.	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Checkout'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: newCartButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: checkoutButtonMorph.
	
	^rowLayoutMorph.
	! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:42:42'!
buildListColumnIdentifiedBy: aLabel
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:43:37' prior: 50981314!
buildListsAndAddRemoveRow
	| rowLayoutMorph |
	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (self buildListColumnIdentifiedBy: 'Catalogo');
	addMorph: self buildQuantityAndAddRemoveColumn ;
	addMorph: (self buildListColumnIdentifiedBy: 'Carrito').
	
	^rowLayoutMorph.
	! !

client := TusLibrosCatalogueWindow open.!

!methodRemoval: TusLibrosCatalogueWindow #buildCartColumn stamp: 'PhG 11/15/2021 20:43:48'!
buildCartColumn
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	!

!methodRemoval: TusLibrosCatalogueWindow #buildCatalogueColumn stamp: 'PhG 11/15/2021 20:43:52'!
buildCatalogueColumn
	| columnLayoutMorph catalogueListMorph |
	
	catalogueListMorph := PluggableListMorph model: self model listGetter: #words indexGetter: #wordsListIndex indexSetter: #wordsListIndex:.
	catalogueListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	columnLayoutMorph := LayoutMorph newColumn.
	columnLayoutMorph separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo');
	addMorph: catalogueListMorph.
	
	^columnLayoutMorph.
	!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:44:26'!
buildRowWithFirstButton: firstButtonLabel andSecondButton: secondButtonLabel
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:44:51' prior: 50981460!
buildRowWithFirstButton: firstButtonLabel andSecondButton: secondButtonLabel
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: firstButtonLabel.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: secondButtonLabel .	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:44:52' prior: 50981483!
buildRowWithFirstButton: firstButtonLabel andSecondButton: secondButtonLabel
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: firstButtonLabel.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: secondButtonLabel.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:45:58' prior: 50980828!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildRowWithFirstButton: 'Logout' andSecondButton: 'Historial'); "logout + blank + historial"
	addMorph: self buildListsAndAddRemoveRow; "catalogo + cantidad + '>>' + '<<' carrito"
	addMorph: (self buildRowWithFirstButton: 'Carrito Nuevo' andSecondButton: 'Checkout'). "new + blank + checkout"
	
"- catalogo
	* label catalogo
	* lista catalogo
	* label cantidad a agregar
	* textbox cantidad a agregar
	* boton agregar al carrito
	* label contenido carrito
	* lista contenido carrito
	* label cantidad a sacar
	* textbox cantidad a sacar
	* boton sacar del carrito
	* boton de checkout (consultar si podemos hardcodear cual tarjeta es valida o si hay que ingresarlos al momento de checkout)
	* label de error de compra
	* boton desloguearse
	* boton nueva compra
	* historial de compras"	! !

client := TusLibrosCatalogueWindow open.!

!methodRemoval: TusLibrosCatalogueWindow #buildNewCheckoutButtonsRow stamp: 'PhG 11/15/2021 20:46:20'!
buildNewCheckoutButtonsRow
	| newCartButtonMorph rowLayoutMorph checkoutButtonMorph |
	
	newCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'New Cart'.	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Checkout'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: newCartButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: checkoutButtonMorph.
	
	^rowLayoutMorph.
	!

!methodRemoval: TusLibrosCatalogueWindow #buildLogoutHistoryButtonsRow stamp: 'PhG 11/15/2021 20:46:25'!
buildLogoutHistoryButtonsRow
	| logoutButtonMorph rowLayoutMorph historialButtonMorph |
	
	logoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Logout'.	
	historialButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Historial'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: logoutButtonMorph;
	addMorph: LayoutMorph newColumn;
	addMorph: historialButtonMorph.
	
	^rowLayoutMorph.
	!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:46:33' prior: 50981170!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] .
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 10; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:46:45' prior: 50981604!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] .
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 10; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad:');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !

client := TusLibrosCatalogueWindow open.!

SystemWindow subclass: #TusLibrosListItemsWindow
	instanceVariableNames: 'invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosListItemsWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:52:14'!
SystemWindow subclass: #TusLibrosListItemsWindow
	instanceVariableNames: 'invalidCredentialsRow'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCatalogueWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:52:25'!
SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

SystemWindow subclass: #TusLibrosListItemsWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosListItemsWindow category: #'TusLibros-Model' stamp: 'PhG 11/15/2021 20:52:31'!
SystemWindow subclass: #TusLibrosListItemsWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosListItemsWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:53:11'!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosListItemsWindow class methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:54:47' overrides: 16926931!
open: detailType
	
	^self new initializeWith: ('TusLibros: ', detailType).! !
!TusLibrosListItemsWindow methodsFor: 'nil' stamp: 'PhG 11/15/2021 20:56:30'!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildHeaderRowWithLabel: 'Libro' and: 'Cantidad' and: 'Precio'); "Libro + Cantidad + Precio"
	addMorph: self buildListsAndAddRemoveRow; "catalogo + cantidad + '>>' + '<<' carrito"
	addMorph: (self buildRowWithFirstButton: 'Carrito Nuevo' andSecondButton: 'Checkout'). "new + blank + checkout"
	
	"- ticket
	* lista items
		+ titulo libro
		+ cantidad libro
		+ precio unitario/total (ver cual)
	* total


		column1		column2		  column3
row	| bookIsbn1 | bookQuantity1 | price1 |
	| bookIsbn2 | bookQuantity2 | price2 |
	| bookIsbn3 | bookQuantity3 | price3 |
	| bookIsbn4 | bookQuantity4 | price4 |
	| total								 |"! !
!TusLibrosListItemsWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 20:57:02' prior: 50981705!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildHeaderRowWithLabel: 'Libro' and: 'Cantidad' and: 'Precio'); "Libro + Cantidad + Precio"
	addMorph: self buildDetailRow; "ver como construir esto dinamicamente"
	addMorph: (self buildRowWithFirstButton: 'Carrito Nuevo' andSecondButton: 'Checkout'). "new + blank + checkout"
	
	"- ticket
	* lista items
		+ titulo libro
		+ cantidad libro
		+ precio unitario/total (ver cual)
	* total


		column1		column2		  column3
row	| bookIsbn1 | bookQuantity1 | price1 |
	| bookIsbn2 | bookQuantity2 | price2 |
	| bookIsbn3 | bookQuantity3 | price3 |
	| bookIsbn4 | bookQuantity4 | price4 |
	| total								 |"! !
!TusLibrosListItemsWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 20:57:43' prior: 50981732!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildHeaderRowWithLabel: 'Libro' and: 'Cantidad' and: 'Precio'); "Libro + Cantidad + Precio"
	addMorph: self buildDetailRow; "ver como construir esto dinamicamente"
	addMorph: self buildTotalRow. "blank + totalLabel + totalNumber"
	
	"- ticket
	* lista items
		+ titulo libro
		+ cantidad libro
		+ precio unitario/total (ver cual)
	* total


		column1		column2		  column3
row	| bookIsbn1 | bookQuantity1 | price1 |
	| bookIsbn2 | bookQuantity2 | price2 |
	| bookIsbn3 | bookQuantity3 | price3 |
	| bookIsbn4 | bookQuantity4 | price4 |
	| total								 |"! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:58:14'!
buildHeaderRowWithLabel! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:58:23' prior: 50981758!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildHeaderRowWithLabel); "Libro + Cantidad + Precio"
	addMorph: self buildDetailRow; "ver como construir esto dinamicamente"
	addMorph: self buildTotalRow. "blank + totalLabel + totalNumber"
	
	"- ticket
	* lista items
		+ titulo libro
		+ cantidad libro
		+ precio unitario/total (ver cual)
	* total


		column1		column2		  column3
row	| bookIsbn1 | bookQuantity1 | price1 |
	| bookIsbn2 | bookQuantity2 | price2 |
	| bookIsbn3 | bookQuantity3 | price3 |
	| bookIsbn4 | bookQuantity4 | price4 |
	| total								 |"! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 20:59:55' prior: 50981782!
buildHeaderRowWithLabel

	| rowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'Libro');
	addMorph: (LabelMorph contents: 'Cantidad');
	addMorph: (LabelMorph contents: 'Precio').
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:00:10' prior: 50981812!
buildHeaderRowWithLabel

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'Libro');
	addMorph: (LabelMorph contents: 'Cantidad');
	addMorph: (LabelMorph contents: 'Precio').
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:00:27'!
buildDetailRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'Libro');
	addMorph: (LabelMorph contents: 'Cantidad');
	addMorph: (LabelMorph contents: 'Precio').
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:00:35'!
buildHeaderRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'Libro');
	addMorph: (LabelMorph contents: 'Cantidad');
	addMorph: (LabelMorph contents: 'Precio').
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/15/2021 21:00:35' prior: 50981787!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildHeaderRow); "Libro + Cantidad + Precio"
	addMorph: self buildDetailRow; "ver como construir esto dinamicamente"
	addMorph: self buildTotalRow. "blank + totalLabel + totalNumber"
	
	"- ticket
	* lista items
		+ titulo libro
		+ cantidad libro
		+ precio unitario/total (ver cual)
	* total


		column1		column2		  column3
row	| bookIsbn1 | bookQuantity1 | price1 |
	| bookIsbn2 | bookQuantity2 | price2 |
	| bookIsbn3 | bookQuantity3 | price3 |
	| bookIsbn4 | bookQuantity4 | price4 |
	| total								 |"! !

!methodRemoval: TusLibrosListItemsWindow #buildHeaderRowWithLabel stamp: 'PhG 11/15/2021 21:00:35'!
buildHeaderRowWithLabel

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'Libro');
	addMorph: (LabelMorph contents: 'Cantidad');
	addMorph: (LabelMorph contents: 'Precio').
	
	^rowLayoutMorph.!
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:01:03' prior: 50981848!
buildDetailRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'aBookIsbn');
	addMorph: (LabelMorph contents: '1');
	addMorph: (LabelMorph contents: ('$', '15')).
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:01:52'!
buildTotalRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: LayoutMorph newColumn;
	addMorph: (LabelMorph contents: 'Total:');
	addMorph: (LabelMorph contents: '$25').
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:02:00' prior: 50981920!
buildTotalRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: LayoutMorph newColumn;
	addMorph: (LabelMorph contents: 'Total:');
	addMorph: (LabelMorph contents: ('$','25')).
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:02:09'!
buildDetailRow: aPrice

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'aBookIsbn');
	addMorph: (LabelMorph contents: '1');
	addMorph: (LabelMorph contents: ('$', '15')).
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:02:13' prior: 50981944!
buildDetailRow: aPrice

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'aBookIsbn');
	addMorph: (LabelMorph contents: '1');
	addMorph: (LabelMorph contents: ('$', aPrice)).
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:02:18'!
buildTotalRow: aTotal

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: LayoutMorph newColumn;
	addMorph: (LabelMorph contents: 'Total:');
	addMorph: (LabelMorph contents: ('$','25')).
	
	^rowLayoutMorph.! !
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:02:22' prior: 50981970!
buildTotalRow: aTotal

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: LayoutMorph newColumn;
	addMorph: (LabelMorph contents: 'Total:');
	addMorph: (LabelMorph contents: ('$',aTotal)).
	
	^rowLayoutMorph.! !

!methodRemoval: TusLibrosListItemsWindow #buildTotalRow stamp: 'PhG 11/15/2021 21:02:25'!
buildTotalRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: LayoutMorph newColumn;
	addMorph: (LabelMorph contents: 'Total:');
	addMorph: (LabelMorph contents: ('$','25')).
	
	^rowLayoutMorph.!

!methodRemoval: TusLibrosListItemsWindow #buildDetailRow stamp: 'PhG 11/15/2021 21:02:27'!
buildDetailRow

	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: 'aBookIsbn');
	addMorph: (LabelMorph contents: '1');
	addMorph: (LabelMorph contents: ('$', '15')).
	
	^rowLayoutMorph.!
!TusLibrosListItemsWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:02:53' prior: 50981873!
buildMorphicWindow
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildHeaderRow); "Libro + Cantidad + Precio"
	addMorph: (self buildDetailRow: '15'); "ver como construir esto dinamicamente"
	addMorph: (self buildDetailRow: '10'); "ver como construir esto dinamicamente"
	addMorph: (self buildTotalRow: '25'). "blank + totalLabel + totalNumber"
	
	"- ticket
	* lista items
		+ titulo libro
		+ cantidad libro
		+ precio unitario/total (ver cual)
	* total


		column1		column2		  column3
row	| bookIsbn1 | bookQuantity1 | price1 |
	| bookIsbn2 | bookQuantity2 | price2 |
	| bookIsbn3 | bookQuantity3 | price3 |
	| bookIsbn4 | bookQuantity4 | price4 |
	| total								 |"! !

client := TusLibrosListItemsWindow open.!

client := TusLibrosListItemsWindow open: 'Ticket'.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:08:45' prior: 50981627!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := SimpleNumberEntryMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] .
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 10; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad:');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:11:01' prior: 50982048!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := SimpleNumberEntryMorph integerDefault: 0 maxNumChars: 10. 
	quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] .
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 10; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad:');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:11:16' prior: 50982072!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := SimpleNumberEntryMorph integerDefault: 0 maxNumChars: 10. 
	"quantityBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | quantityBoxMorph innerTextMorph acceptContents ] ."
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 10; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad:');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !

client := TusLibrosCatalogueWindow open.!
!TusLibrosCatalogueWindow methodsFor: 'GUI building' stamp: 'PhG 11/15/2021 21:11:30' prior: 50982094!
buildQuantityRow

	| quantityBoxMorph rowLayoutMorph |
	
	quantityBoxMorph := SimpleNumberEntryMorph integerDefault: 0 maxNumChars: 10.
	quantityBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 10; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Cantidad:');
	addMorph: quantityBoxMorph.
	
	^rowLayoutMorph.! !

client := TusLibrosCatalogueWindow open.!

----SNAPSHOT----(15 November 2021 21:12:23) CuisUniversity-4972.image priorSource: 20758510!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/15/2021 21:14:08'!
PASSED!

----QUIT----(15 November 2021 22:06:05) CuisUniversity-4972.image priorSource: 20815445!

----STARTUP---- (18 November 2021 18:13:23) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!


Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindowModel category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 19:23:08'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindowModel category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 19:24:10'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: 'restInterface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindowModel methodsFor: 'nil' stamp: 'PhG 11/18/2021 19:24:08' overrides: 16896425!
initialize

	restInterface := TusLibrosRestAPI new.! !
!TusLibrosCreateCartWindowModel methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 19:24:40' prior: 50982332 overrides: 16896425!
initialize

	restInterface := TusLibrosRestAPI listeningOn: 8083.! !
!TusLibrosCreateCartWindowModel methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 19:28:57'!
initializeWith: aRestInterface

	restInterface := aRestInterface.! !

!methodRemoval: TusLibrosCreateCartWindowModel #initialize stamp: 'PhG 11/18/2021 19:29:01'!
initialize

	restInterface := TusLibrosRestAPI listeningOn: 8083.!
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 19:30:49'!
initializeWith: aTitle andModel: aModel

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 19:30:53' prior: 50982354!
initializeWith: aTitle andModel: aModel

	self setLabel: aTitle.
	self model: aModel.
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow class methodsFor: 'instance creation' stamp: 'PhG 11/18/2021 19:32:04'!
openWith: aRestInterface
	
	^self new initializeWith: 'TusLibros: Create Cart'.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 19:33:11'!
initializeWith: aTitle andRestInterface: aRestInterface

	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel new initializeWith: aRestInterface).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !

!methodRemoval: TusLibrosCreateCartWindow #initializeWith:andModel: stamp: 'PhG 11/18/2021 19:33:14'!
initializeWith: aTitle andModel: aModel

	self setLabel: aTitle.
	self model: aModel.
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.!

wordsClient := WordsClientWindow open.!
!TusLibrosCreateCartWindow class methodsFor: 'instance creation' stamp: 'PhG 11/18/2021 20:46:01' prior: 50982375!
openWith: aRestInterface
	
	^self new initializeWith: 'TusLibros: Create Cart' andRestInterface: aRestInterface.! !

!methodRemoval: TusLibrosCreateCartWindow class #open stamp: 'PhG 11/18/2021 20:46:06'!
open
	
	^self new initializeWith: 'TusLibros: Create Cart'.!

!methodRemoval: TusLibrosCreateCartWindow #initializeWith: stamp: 'PhG 11/18/2021 20:46:10'!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.!
!TusLibrosCreateCartWindowModel class methodsFor: 'nil' stamp: 'PhG 11/18/2021 20:46:58'!
pairedWith: aRestInterface

	^TusLibrosCreateCartWindowModel basicNew initializeWith: aRestInterface.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 20:47:20' prior: 50982381!
initializeWith: aTitle andRestInterface: aRestInterface

	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestInterface).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 20:47:50'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 20:47:48' prior: 50982433!
initializeWith: aTitle andRestInterface: aRestInterface

	restAPI := aRestInterface.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestInterface).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 20:47:54' prior: 50982455!
initializeWith: aTitle andRestInterface: aRestInterface

	restAPI := aRestInterface.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestInterface).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 20:48:00' prior: 50982468!
initializeWith: aTitle andRestInterface: aRestInterface

	restAPI := aRestInterface.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestInterface).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 20:48:07' prior: 50982481!
initializeWith: aTitle andRestInterface: aRestAPI

	restAPI := aRestAPI.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestAPI).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !

!classDefinition: #TusLibrosCreateCartWindowModel category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 20:49:19'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: 'restInterface username'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindowModel category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 20:49:20'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: 'restInterface username password'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindowModel category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 20:49:21'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: 'restInterface username password cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindowModel methodsFor: 'initialization' stamp: 'PhG 11/18/2021 20:49:18' prior: 50982344!
initializeWith: aRestInterface

	restInterface := aRestInterface.
	username := ''.
	password := ''.
	cartId := ''.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:53:42'!
buildTextBoxIdentifiedBy: aLabel withTextGetter: aTextGetter withTextSetter: aTextSetter
	| rowLayoutMorph textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:54:03' prior: 50982542!
buildTextBoxIdentifiedBy: aLabel withTextGetter: aTextGetter withTextSetter: aTextSetter
	| textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #aTextGetter textSetter: #aTextSetter:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	^textBoxMorph ! !
!TusLibrosCreateCartWindowModel methodsFor: 'nil' stamp: 'PhG 11/18/2021 20:55:06'!
usernameText! !
!TusLibrosCreateCartWindowModel methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 20:55:22'!
usernameText: aUsername
	username := aUsername.
	^true.! !
!TusLibrosCreateCartWindowModel methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 20:55:29' prior: 50982583!
usernameText
	^username.! !
!TusLibrosCreateCartWindowModel methodsFor: 'CredentialsModelMorphSelectors' stamp: 'PhG 11/18/2021 20:56:18'!
passwordText: aPassword
	password := aPassword.
	^true.! !
!TusLibrosCreateCartWindowModel methodsFor: 'CredentialsModelMorphSelectors' stamp: 'PhG 11/18/2021 20:56:31'!
passwordText
	^password.! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 20:58:05'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:58:03' prior: 50980386!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph textBoxMorph |
	
	usernameTextMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:58:33'!
withTextGetter: aTextGetter withTextSetter: aTextSetter
	| textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #aTextGetter textSetter: #aTextSetter:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	^textBoxMorph ! !

!methodRemoval: TusLibrosCreateCartWindow #buildTextBoxIdentifiedBy:withTextGetter:withTextSetter: stamp: 'PhG 11/18/2021 20:58:33'!
buildTextBoxIdentifiedBy: aLabel withTextGetter: aTextGetter withTextSetter: aTextSetter
	| textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #aTextGetter textSetter: #aTextSetter:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	^textBoxMorph !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:58:44'!
buildTextBoxWithTextGetter: aTextGetter withTextSetter: aTextSetter
	| textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #aTextGetter textSetter: #aTextSetter:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	^textBoxMorph ! !

!methodRemoval: TusLibrosCreateCartWindow #withTextGetter:withTextSetter: stamp: 'PhG 11/18/2021 20:58:44'!
withTextGetter: aTextGetter withTextSetter: aTextSetter
	| textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: #aTextGetter textSetter: #aTextSetter:. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	^textBoxMorph !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:59:25' prior: 50982618!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph textBoxMorph |
	
	usernameTextMorph := self buildTextBoxWithTextGetter: #usernameTextGetter withTextSetter: #usernameTextGetter.
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 20:59:55' prior: 50982675!
buildTextBoxWithTextGetter: aTextGetter withTextSetter: aTextSetter
	| textBoxMorph |
	
	textBoxMorph := TextModelMorph textProvider: self model textGetter: aTextGetter textSetter: aTextSetter. 
	textBoxMorph innerTextMorph setProperty: #keyStroke: toValue: [ :key | textBoxMorph innerTextMorph acceptContents ] .
	textBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 25. 
		
	^textBoxMorph ! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:00:04' prior: 50982709!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph textBoxMorph |
	
	usernameTextMorph := self buildTextBoxWithTextGetter: #usernameText withTextSetter: #usernameText:.
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: textBoxMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:00:10' prior: 50982741!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph |
	
	usernameTextMorph := self buildTextBoxWithTextGetter: #usernameText withTextSetter: #usernameText:.
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: usernameTextMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:01:38' prior: 50982756!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph |
	
	
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: usernameTextMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:01:49' prior: 50980287!
buildMorphicWindow

	usernameTextMorph := self buildTextBoxWithTextGetter: #usernameText withTextSetter: #usernameText:.
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:');
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:');
	addMorph: self buildInvalidCredentialsRow;
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 21:02:33'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:02:32' prior: 50982783!
buildMorphicWindow

	usernameTextMorph := self buildTextBoxWithTextGetter: #usernameText withTextSetter: #usernameText:.
	passwordTextMorph := self buildTextBoxWithTextGetter: #passwordText withTextSetter: #passwordText:.
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:');
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:');
	addMorph: self buildInvalidCredentialsRow;
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:02:55' prior: 50982817!
buildMorphicWindow

	usernameTextMorph := self buildTextBoxWithTextGetter: #usernameText withTextSetter: #usernameText:.
	passwordTextMorph := self buildTextBoxWithTextGetter: #passwordText withTextSetter: #passwordText:.
		
	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Username:' andTextMorph: usernameTextMorph);
	addMorph: (self buildTextBoxRowIdentifiedBy: 'Password:' andTextMorph: passwordTextMorph);
	addMorph: self buildInvalidCredentialsRow;
	addMorph: self buildCreateCartButtonRow.
	
	"- login/createCart:
	* label username
	* textbox username
	* label password
	* textbox password (checkear despues si se puede ocultar la contrasea)
	* boton de crear carrito
	* label credenciales invalidas (o ventana de error)"
	! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:03:09'!
buildTextBoxRowIdentifiedBy: aLabel andTextMorph: aTextMorph
	| rowLayoutMorph |
	
	
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: usernameTextMorph.
	
	^rowLayoutMorph.! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:03:14' prior: 50982872!
buildTextBoxRowIdentifiedBy: aLabel andTextMorph: aTextMorph
	| rowLayoutMorph |
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: aTextMorph.
	
	^rowLayoutMorph.! !

!methodRemoval: TusLibrosCreateCartWindow #buildTextBoxRowIdentifiedBy: stamp: 'PhG 11/18/2021 21:03:21'!
buildTextBoxRowIdentifiedBy: aLabel
	| rowLayoutMorph |
	
	
		
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:aLabel);
	addMorph: usernameTextMorph.
	
	^rowLayoutMorph.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:03:46' prior: 50980371!
buildCreateCartButtonRow
	| rowLayoutMorph createCartButtonMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:05:08' prior: 50982907!
buildCreateCartButtonRow
	| rowLayoutMorph createCartButtonMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^rowLayoutMorph.
	! !

SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph createCartButtonMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph createCartButtonMorph2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 21:05:30'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph createCartButtonMorph2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:05:41' prior: 50982922!
buildCreateCartButtonRow
	| rowLayoutMorph |
	
	createCartButtonMorph2 := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph2.
	
	^rowLayoutMorph.
	! !

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 21:05:44'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph createCartButtonMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 21:05:44' prior: 50982963!
buildCreateCartButtonRow
	| rowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Create Cart'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^rowLayoutMorph.
	! !
!TusLibrosCreateCartWindowModel methodsFor: 'nil' stamp: 'PhG 11/18/2021 21:09:25'!
submitLoginRequest
		
	cartId := restInterface createCartFor: username authenticatedWith: password.
	"on: Error"
	
	self triggerEvent: #newWordsArrived.
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !

!classDefinition: #TusLibrosCreateCartWindowModel category: #'TusLibros-Model' stamp: 'PhG 11/18/2021 21:19:38'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: 'restInterface username password cartId errorDescription'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindowModel methodsFor: 'PluggableButtonSelectors' stamp: 'PhG 11/18/2021 21:19:37' prior: 50983002!
submitLoginRequest
		
	[
		cartId := restInterface createCartFor: username authenticatedWith: password.
		self triggerEvent: #succesfulLogin.
	]
	on: Error
	do: [:error | 
		errorDescription := error description.
		self triggerEvent: #unsuccesfulLogin.
	].
	
	
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 21:20:01' prior: 50982494!
initializeWith: aTitle andRestInterface: aRestAPI

	restAPI := aRestAPI.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestAPI).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #successfulLogin send: #refreshListOfWords to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'access' stamp: 'PhG 11/18/2021 21:21:09' prior: 50980281!
showInvalidCredentialsRow
	
	
	invalidCredentialsRow show.! !
!TusLibrosCreateCartWindow methodsFor: 'access' stamp: 'PhG 11/18/2021 21:21:51' prior: 50983056!
showInvalidCredentialsRow
	
	invalidCredentialsRow show.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 21:21:59' prior: 50983043!
initializeWith: aTitle andRestInterface: aRestAPI

	restAPI := aRestAPI.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestAPI).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/18/2021 21:22:22' prior: 50983067!
initializeWith: aTitle andRestInterface: aRestAPI

	restAPI := aRestAPI.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel pairedWith: aRestAPI).
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'access' stamp: 'PhG 11/18/2021 21:22:32'!
showCatalogueWindow
	
"	wordsListMorph updateList.
	wordsListMorph setSelectionIndex: 0."
	! !
!TusLibrosListItemsWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 21:22:32' prior: 50981690!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #showCatalogueWindow to: self.! !
!TusLibrosCatalogueWindow methodsFor: 'as yet unclassified' stamp: 'PhG 11/18/2021 21:22:32' prior: 50980524!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: (WordsClientWindowModel new).
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #showCatalogueWindow to: self.! !

!methodRemoval: TusLibrosCreateCartWindow #refreshListOfWords stamp: 'PhG 11/18/2021 21:22:32'!
refreshListOfWords
	
"	wordsListMorph updateList.
	wordsListMorph setSelectionIndex: 0."
	!
!TusLibrosCreateCartWindow methodsFor: 'access' stamp: 'PhG 11/18/2021 21:22:38' prior: 50983095!
showCatalogueWindow
	
	! !

restAPI := TusLibrosRestAPI listeningOn: 8083.!

client := TusLibrosCreateCartWindow pairedWith: restAPI.!

client := TusLibrosCreateCartWindow openWith: restAPI.!
!TusLibrosCreateCartWindow methodsFor: 'GUI building' stamp: 'PhG 11/18/2021 21:27:18' prior: 50982988!
buildCreateCartButtonRow
	| rowLayoutMorph |
	
	createCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #submitLoginRequest label: 'Create Cart'.	
	
	rowLayoutMorph := LayoutMorph newRow.
	rowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: createCartButtonMorph.
	
	^rowLayoutMorph.
	! !

client := TusLibrosCreateCartWindow openWith: restAPI.!
!TusLibrosCreateCartWindowModel methodsFor: 'PluggableButtonSelectors' stamp: 'PhG 11/18/2021 21:27:46' prior: 50983026!
submitLoginRequest

	self halt.
		
	[
		cartId := restInterface createCartFor: username authenticatedWith: password.
		self triggerEvent: #succesfulLogin.
	]
	on: Error
	do: [:error | 
		errorDescription := error description.
		self triggerEvent: #unsuccesfulLogin.
	].
	
	
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !

client := TusLibrosCreateCartWindow openWith: restAPI.!

----SNAPSHOT----(18 November 2021 21:36:20) CuisUniversity-4972.image priorSource: 20820835!

----QUIT----(18 November 2021 21:38:10) CuisUniversity-4972.image priorSource: 20848743!

----STARTUP---- (21 November 2021 14:43:34) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!


Object subclass: #TusLibrosRestInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosRestInterface category: #'TusLibros-Model' stamp: 'PhG 11/21/2021 14:44:27'!
Object subclass: #TusLibrosRestInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosRestInterface methodsFor: 'nil' stamp: 'PhG 11/21/2021 15:34:29'!
url
	
	^'http://localhost:', self port asString! !

!classDefinition: #TusLibrosRestInterface category: #'TusLibros-Model' stamp: 'PhG 11/21/2021 15:34:54'!
Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosRestInterface methodsFor: 'initialization' stamp: 'PhG 11/21/2021 15:34:52'!
port
	
	^port ifNil: [port:=8080].! !
!TusLibrosRestInterface methodsFor: 'nil' stamp: 'PhG 11/21/2021 15:35:24'!
correctlyEncodeSpacesForUrlRequestParameter: aParameter
	
	^ aParameter copyReplaceAll: ' ' with: '%20'. ! !

!classDefinition: #TusLibrosRestInterface category: #'TusLibros-Model' stamp: 'PhG 11/21/2021 15:36:09'!
Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port sentence'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 15:36:06'!
sendCreateCartRequestFor: username authenticatedBy: password

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'sentence'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/words') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'initialization' stamp: 'PhG 11/21/2021 15:36:56'!
initializeWith: aPort
	
	port := aPort.! !
!TusLibrosRestInterface class methodsFor: 'nil' stamp: 'PhG 11/21/2021 15:37:36'!
onPort: aPort

	^TusLibrosRestInterface basicNew initializeWith: aPort.! !
!TusLibrosCreateCartWindowModel methodsFor: 'initialization' stamp: 'PhG 11/21/2021 15:39:03'!
initializeOn: aPort

	restInterface := TusLibrosRestInterface onPort: aPort.
	username := ''.
	password := ''.
	cartId := ''.! !

!methodRemoval: TusLibrosCreateCartWindowModel #initializeWith: stamp: 'PhG 11/21/2021 15:39:12'!
initializeWith: aRestInterface

	restInterface := aRestInterface.
	username := ''.
	password := ''.
	cartId := ''.!
!TusLibrosCreateCartWindowModel class methodsFor: 'instance creation' stamp: 'PhG 11/21/2021 15:39:33'!
listeningOn: aPort

	^TusLibrosCreateCartWindowModel basicNew initializeOn: aPort.! !

!methodRemoval: TusLibrosCreateCartWindowModel class #pairedWith: stamp: 'PhG 11/21/2021 15:39:38'!
pairedWith: aRestInterface

	^TusLibrosCreateCartWindowModel basicNew initializeWith: aRestInterface.!

!classDefinition: #TusLibrosCreateCartWindow category: #'TusLibros-Model' stamp: 'PhG 11/21/2021 15:40:13'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph createCartButtonMorph port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 15:40:11' prior: 50983080!
initializeWith: aTitle andRestInterface: aPort

	port := aPort.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel listeningOn: aPort).
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 15:40:27'!
initializeWith: aTitle andPort: aPort

	port := aPort.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel listeningOn: aPort).
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.! !
!TusLibrosCreateCartWindow class methodsFor: 'as yet unclassified' stamp: 'PhG 11/21/2021 15:40:27' prior: 50982405!
openWith: aRestInterface
	
	^self new initializeWith: 'TusLibros: Create Cart' andPort: aRestInterface.! !

!methodRemoval: TusLibrosCreateCartWindow #initializeWith:andRestInterface: stamp: 'PhG 11/21/2021 15:40:27'!
initializeWith: aTitle andRestInterface: aPort

	port := aPort.
	self setLabel: aTitle.
	self model: (TusLibrosCreateCartWindowModel listeningOn: aPort).
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.!
!TusLibrosCreateCartWindowModel methodsFor: 'PluggableButtonSelectors' stamp: 'PhG 11/21/2021 15:42:48' prior: 50983156!
submitLoginRequest

	[
		cartId := restInterface se.
		self triggerEvent: #succesfulLogin.
	]
	on: Error
	do: [:error | 
		errorDescription := error description.
		self triggerEvent: #unsuccesfulLogin.
	].
	
	
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !
!TusLibrosCreateCartWindowModel methodsFor: 'PluggableButtonSelectors' stamp: 'PhG 11/21/2021 15:43:47' prior: 50983345!
submitLoginRequest

	[
		
		restInterface se.
		cartId := restInterface .
		self triggerEvent: #succesfulLogin.
	]
	on: Error
	do: [:error | 
		errorDescription := error description.
		self triggerEvent: #unsuccesfulLogin.
	].
	
	
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !
!TusLibrosRestInterface class methodsFor: 'instance creation' stamp: 'PhG 11/21/2021 15:45:17' prior: 50983250!
onPort: aPort

	^self new initializeWith: aPort.! !
!TusLibrosCreateCartWindowModel methodsFor: 'PluggableButtonSelectors' stamp: 'PhG 11/21/2021 15:46:01' prior: 50983361!
submitLoginRequest

	[
		
		restInterface sendCreateCartRequestFor: username authenticatedBy: password.
		cartId := restInterface .
		self triggerEvent: #succesfulLogin.
	]
	on: Error
	do: [:error | 
		errorDescription := error description.
		self triggerEvent: #unsuccesfulLogin.
	].
	
	
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 15:47:25' prior: 50983228!
sendCreateCartRequestFor: aUsername authenticatedBy: aPassword

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'username'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 15:47:41' prior: 50983401!
sendCreateCartRequestFor: aUsername authenticatedBy: aPassword

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'username'. aUsername, 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 15:47:49' prior: 50983420!
sendCreateCartRequestFor: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername, 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 15:49:32' prior: 50983439!
sendCreateCartRequestFor: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername, 'password'. aPassword.}.		
	
	resp := WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

restAPI := TusLibrosRestAPI listeningOn: 8083.!

restInterface := TusLibrosRestInterface onPort: 8083.!

response := restInterface sendCreateCartRequestFor: 'maximilianoCozzetti' authenticatedBy: 'admin'.!

restAPI destroy.!

restAPI destroy.!

restAPI destroy.
!

TusLibrosRestAPI!

(TusLibrosRestAPI allInstances) do: [:instance | instance destroy.]!
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 16:01:22' prior: 50965841!
registerCreateCartEndpoint
	
	webServer addService: '/createCart' action:[:request |	| cartId password username |
		[self halt.
			username := request fields at: 'username'.
		password := request fields at: 'password'.
		cartId := tusLibrosFacade createCartFor: username authenticatedWith: password.
		self respond200WithBody: cartId for: request
		 ]
		on: Error 
		do: (self respond400ErrorFor: request)]! !

restAPI := TusLibrosRestAPI listeningOn: 8083.!

response := restInterface sendCreateCartRequestFor: 'maximilianoCozzetti' authenticatedBy: 'admin'.!

----STARTUP---- (21 November 2021 16:02:25) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!


TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 16:03:32' prior: 50965841!
registerCreateCartEndpoint
	
	webServer addService: '/createCart' action:[:request |	| cartId password username |
		self halt.
		[username := request fields at: 'username'.
		password := request fields at: 'password'.
		cartId := tusLibrosFacade createCartFor: username authenticatedWith: password.
		self respond200WithBody: cartId for: request
		 ]
		on: Error 
		do: (self respond400ErrorFor: request)]! !

restAPI := TusLibrosRestAPI listeningOn: 8083.!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'WordsClientDemo'!

!classDefinition: #TusLibrosRestInterface category: #WordsClientDemo stamp: 'PhG 11/21/2021 16:04:17'!
Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'WordsClientDemo'!

TusLibrosRestInterface class
	instanceVariableNames: ''!

!classDefinition: 'TusLibrosRestInterface class' category: #WordsClientDemo stamp: 'PhG 11/21/2021 16:04:17'!
TusLibrosRestInterface class
	instanceVariableNames: ''!
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 16:04:17'!
correctlyEncodeSpacesForUrlRequestParameter: aParameter
	
	^ aParameter copyReplaceAll: ' ' with: '%20'. ! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 16:04:17'!
sendWordsRequest: sentence

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'sentence'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/words') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'initialization' stamp: 'PhG 11/21/2021 16:04:17'!
port
	
	^port ifNil: [port:=8080].! !
!TusLibrosRestInterface methodsFor: 'initialization' stamp: 'PhG 11/21/2021 16:04:17'!
url
	
	^'http://localhost:', self port asString! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 16:04:31' prior: 50983555!
sendWordsRequest: sentence

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'sentence'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'initialization' stamp: 'PhG 11/21/2021 16:04:40' prior: 50983572!
port
	
	^port ifNil: [port:=8083].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 16:05:25'!
sendWordsRequest: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername. 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 16:05:31'!
createCartFor: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername. 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

!methodRemoval: TusLibrosRestInterface #sendWordsRequest:authenticatedBy: stamp: 'PhG 11/21/2021 16:05:31'!
sendWordsRequest: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername. 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].!

----SNAPSHOT----(21 November 2021 16:06:11) CuisUniversity-4972.image priorSource: 20848837!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

restAPI := TusLibrosRestAPI listeningOn: 8083.!

request fields !

----SNAPSHOT----(21 November 2021 16:13:44) CuisUniversity-4972.image priorSource: 20863923!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

----QUIT----(21 November 2021 16:14:40) CuisUniversity-4972.image priorSource: 20864220!

----STARTUP---- (21 November 2021 18:15:16) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity/CuisUniversity-4972.image!

!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 18:21:40' prior: 50965935!
registerAddToCartEndpoint

	webServer addService: '/addToCart' action:[:request |	| cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := request fields at: 'bookIsbn'.
		bookQuantity := (request fields at: 'bookQuantity') asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)
		]! !

!methodRemoval: TusLibrosRestAPI #addToCartFor: stamp: 'PhG 11/21/2021 18:21:46'!
addToCartFor: request

	| cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := request fields at: 'bookIsbn'.
		bookQuantity := (request fields at: 'bookQuantity') asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)!

restAPI := TusLibrosRestAPI listeningOn: 8083.!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 18:39:43' prior: 50983509!
registerCreateCartEndpoint
	
	webServer addService: '/createCart' action:[:request |	| cartId password username |
		[username := request fields at: 'username'.
		password := request fields at: 'password'.
		cartId := tusLibrosFacade createCartFor: username authenticatedWith: password.
		self respond200WithBody: cartId for: request
		 ]
		on: Error 
		do: (self respond400ErrorFor: request)]! !

restAPI := TusLibrosRestAPI listeningOn: 8083.!

d := Dictionary new.!

d at: 'test' ifAbsent:[1].!

d!

d at: 'test' ifAbsent:[self at: 'test' put: 1].!

d at: 'test' ifAbsent:[d at: 'test' put: 1].!

d!

d at: 'test' ifPresent:[:val | val + 1].!

d!

d at: 'test' ifPresent:[:val | d at:'test' put:( val + 1)].!

d!

d!

d at: 'test' ifAbsent:[d at: 'test' put: 1].
d at: 'test' ifPresent:[:val | d at:'test' put:( val + 1)].!

d!
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 18:50:53'!
bagToDictionary: aBag

	| dictionary |
	
	dictionary := Dictionary new.
	
	aBag do: [:bagElement | 
		dictionary at: bagElement ifAbsent: [dictionary at: 'test' put: 1].
		dictionary at: bagElement ifPresent:[:value | dictionary at: bagElement put: (value + 1)].
	].
	
	^dictionary.! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 18:51:47' prior: 50965775!
registerListCartEndpoint
	
	webServer addService: '/listCart' action:[:request |	 | cartId cartContent |
		[cartId := (request fields at: 'cartId') asNumber.
		cartContent := self bagToDictionary: (tusLibrosFacade listCartIdentifiedAs: cartId ).
		self respond200WithBody: cartContent for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 18:51:48' prior: 50983750!
registerListCartEndpoint
	
	webServer addService: '/listCart' action:[:request |	 | cartId cartContent |
		[cartId := (request fields at: 'cartId') asNumber.
		cartContent := self bagToDictionary: (tusLibrosFacade listCartIdentifiedAs: cartId).
		self respond200WithBody: cartContent for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

restAPI := TusLibrosRestAPI listeningOn: 8083.!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

restAPI := TusLibrosRestAPI listeningOn: 8083.!
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 19:26:43' prior: 50983737!
bagToDictionary: aBag

	| dictionary |
	
	dictionary := Dictionary new.
	
	aBag do: [:bagElement | 
		dictionary at: bagElement ifAbsent: [dictionary at: bagElement put: 1].
		dictionary at: bagElement ifPresent:[:value | dictionary at: bagElement put: (value + 1)].
	].
	
	^dictionary.! !

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!

restAPI := TusLibrosRestAPI listeningOn: 8083.!

TusLibrosRestAPI allInstancesDo: [:instance | instance destroy.].!
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 19:27:36' prior: 50983787!
bagToDictionary: aBag

	| dictionary |
	
	dictionary := Dictionary new.
	
	aBag do: [:bagElement | 
		dictionary at: bagElement ifPresent:[:value | dictionary at: bagElement put: (value + 1)].
		dictionary at: bagElement ifAbsent: [dictionary at: bagElement put: 1].
	].
	
	^dictionary.! !

----STARTUP---- (21 November 2021 21:44:40) as /Users/pgarrett/Documents/facultad/inge1/cuisUniversity-bercho/CuisUniversity-4972.image!


!classRemoval: #MockUserDB stamp: 'PhG 11/21/2021 21:45:19'!
UserDB subclass: #MockUserDB
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #UserDB stamp: 'PhG 11/21/2021 21:45:19'!
Object subclass: #UserDB
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosSystemFacade stamp: 'PhG 11/21/2021 21:45:19'!
Object subclass: #TusLibrosSystemFacade
	instanceVariableNames: 'validUsersAndPasswords catalogue lastId merchantProcessor salesBook clock cartSessions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosRestInterface stamp: 'PhG 11/21/2021 21:45:20'!
Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosRestAPI stamp: 'PhG 11/21/2021 21:45:20'!
Object subclass: #TusLibrosRestAPI
	instanceVariableNames: 'webServer port tusLibrosFacade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosCreateCartWindowModel stamp: 'PhG 11/21/2021 21:45:20'!
Object subclass: #TusLibrosCreateCartWindowModel
	instanceVariableNames: 'restInterface username password cartId errorDescription'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #Ticket stamp: 'PhG 11/21/2021 21:45:21'!
Object subclass: #Ticket
	instanceVariableNames: 'lineItems'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #Sale stamp: 'PhG 11/21/2021 21:45:21'!
Object subclass: #Sale
	instanceVariableNames: 'customer ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #MockMerchantProcessor stamp: 'PhG 11/21/2021 21:45:21'!
MerchantProcessor subclass: #MockMerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #MerchantProcessor stamp: 'PhG 11/21/2021 21:45:21'!
Object subclass: #MerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #LineItem stamp: 'PhG 11/21/2021 21:45:22'!
Object subclass: #LineItem
	instanceVariableNames: 'item quantity total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #CreditCard stamp: 'PhG 11/21/2021 21:45:22'!
Object subclass: #CreditCard
	instanceVariableNames: 'expiration'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #RealClock stamp: 'PhG 11/21/2021 21:45:22'!
Clock subclass: #RealClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #Clock stamp: 'PhG 11/21/2021 21:45:22'!
Object subclass: #Clock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #MockCatalogue stamp: 'PhG 11/21/2021 21:45:23'!
Catalogue subclass: #MockCatalogue
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #Catalogue stamp: 'PhG 11/21/2021 21:45:23'!
Object subclass: #Catalogue
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #Cashier stamp: 'PhG 11/21/2021 21:45:23'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard owner ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #CartSession stamp: 'PhG 11/21/2021 21:45:24'!
Object subclass: #CartSession
	instanceVariableNames: 'owner cart lastUsedTime systemFacade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #Cart stamp: 'PhG 11/21/2021 21:45:24'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosListItemsWindow stamp: 'PhG 11/21/2021 21:45:24'!
SystemWindow subclass: #TusLibrosListItemsWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosCreateCartWindow stamp: 'PhG 11/21/2021 21:45:25'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow restAPI usernameTextMorph passwordTextMorph createCartButtonMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosCatalogueWindow stamp: 'PhG 11/21/2021 21:45:25'!
SystemWindow subclass: #TusLibrosCatalogueWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #StoreTestObjectsFactory stamp: 'PhG 11/21/2021 21:45:28'!
Object subclass: #StoreTestObjectsFactory
	instanceVariableNames: 'today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #TusLibrosSystemFacadeTest stamp: 'PhG 11/21/2021 21:45:29'!
TestCase subclass: #TusLibrosSystemFacadeTest
	instanceVariableNames: 'testObjectsFactory clock systemFacade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #CashierTest stamp: 'PhG 11/21/2021 21:45:29'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjectsFactory debitBehavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #CartTest stamp: 'PhG 11/21/2021 21:45:30'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjectsFactory'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

!classRemoval: #ManualClock stamp: 'PhG 11/21/2021 21:45:39'!
AnObsoleteClock subclass: #ManualClock
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Tests'!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/is1-2021-2C/20-TusLibros/iteracion4/TusLibros-Model.st----!

----End fileIn of /Users/pgarrett/Documents/facultad/inge1/is1-2021-2C/20-TusLibros/iteracion4/TusLibros-Tests.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:46:09'!
PASSED!

Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosRestInterface category: 'TusLibros-Model' stamp: 'PhG 11/21/2021 21:47:02'!
Object subclass: #TusLibrosRestInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosRestInterface methodsFor: 'no messages' stamp: 'PhG 11/21/2021 21:47:10'!
port
	
	^port ifNil: [port:=8083].! !
!TusLibrosRestInterface methodsFor: 'initialization' stamp: 'PhG 11/21/2021 21:47:22'!
url
	
	^'http://localhost:', self port asString! !
!TusLibrosRestInterface methodsFor: 'nil' stamp: 'PhG 11/21/2021 21:47:33'!
addToCart: aQuantity of: aBook toCartIdentifiedAs: aCartId

	| fieldDict resp formattedBookIsbn |
	
	formattedBookIsbn := self correctlyEncodeSpacesForUrlRequestParameter: aBook.
	fieldDict := Dictionary newFromPairs: {'cartId'. aCartId. 'bookIsbn'. formattedBookIsbn. 'bookQuantity'. aQuantity }.		
	
	resp:= WebClient htmlSubmit: (self url,'/addToCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:47:45'!
checkOutCartIdentifiedAs: aCartId withCreditCardNumbered: aCardNumber ownedBy: aCardHolder expiringOn: aCardExpirationDate

	| fieldDict resp |
	
	fieldDict := Dictionary newFromPairs: {'cartId'. aCartId. 'ccn'. aCardNumber. 'cced'. aCardExpirationDate. 'cco'. aCardHolder.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/checkOutCart') fields: fieldDict.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:47:51'!
correctlyEncodeSpacesForUrlRequestParameter: aParameter
	
	^ aParameter copyReplaceAll: ' ' with: '%20'. ! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:47:57'!
createCartFor: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername. 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:48:06'!
listCartIdentifiedAs: aCartId

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'cartId'. aCartId.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/listCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:48:13'!
listCatalogue

	| resp |
	
	resp:= WebClient htmlSubmit: (self url,'/listCatalogue') fields: Dictionary new.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:48:20'!
listPurchasesFor: aUsername authenticatedBy: aPassword

	| fieldDict resp |

	fieldDict := Dictionary newFromPairs: {'username'. aUsername. 'password'. aPassword.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/listPurchases') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:48:27'!
removeFromCart: aQuantity of: aBook toCartIdentifiedAs: aCartId

	| fieldDict resp formattedBookIsbn |
	
	formattedBookIsbn := self correctlyEncodeSpacesForUrlRequestParameter: aBook.
	fieldDict := Dictionary newFromPairs: {'cartId'. aCartId. 'bookIsbn'. formattedBookIsbn. 'bookQuantity'. aQuantity }.		
	
	resp:= WebClient htmlSubmit: (self url,'/removeFromCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'sending requests' stamp: 'PhG 11/21/2021 21:48:34'!
sendWordsRequest: sentence

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'sentence'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 21:48:45' prior: 50985091!
addToCartFor: request

	! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 21:48:52' prior: 50985107!
registerAddToCartEndpoint

	webServer addService: '/addToCart' action:[:request |	 | cartId bookIsbn bookQuantity |
		[cartId := (request fields at: 'cartId' ) asNumber .
		bookIsbn := request fields at: 'bookIsbn'.
		bookQuantity := (request fields at: 'bookQuantity') asNumber .
		tusLibrosFacade add: bookQuantity of: bookIsbn toCartIdentifiedAs: cartId.
		self respond200WithBody: 'OK' for: request]
		on: Error 
		do: (self respond400ErrorFor: request)
		]! !

!methodRemoval: TusLibrosRestAPI #addToCartFor: stamp: 'PhG 11/21/2021 21:48:57'!
addToCartFor: request

	!
!TusLibrosRestAPI methodsFor: 'nil' stamp: 'PhG 11/21/2021 21:49:25'!
bagToDictionary: aBag

	| dictionary |
	
	dictionary := Dictionary new.
	
	aBag do: [:bagElement | 
		dictionary at: bagElement ifPresent:[:value | dictionary at: bagElement put: (value + 1)].
		dictionary at: bagElement ifAbsent: [dictionary at: bagElement put: 1].
	].
	
	^dictionary.! !
!TusLibrosRestAPI methodsFor: 'register endpoints' stamp: 'PhG 11/21/2021 21:50:19' prior: 50985152!
registerListCartEndpoint
	
	webServer addService: '/listCart' action:[:request |	 | cartId cartContent |
		[cartId := (request fields at: 'cartId') asNumber.
		cartContent := self bagToDictionary: (tusLibrosFacade listCartIdentifiedAs: cartId).
		self respond200WithBody: cartContent for: request.]
		on: Error 
		do: (self respond400ErrorFor: request)]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:50:44'!
PASSED!

----SNAPSHOT----(21 November 2021 21:50:48) CuisUniversity-4972.image priorSource: 20864382!

Object subclass: #User
	instanceVariableNames: 'username password creditCardNumber'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #User category: 'TusLibros-Model' stamp: 'PhG 11/21/2021 21:51:11'!
Object subclass: #User
	instanceVariableNames: 'username password creditCardNumber'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!User methodsFor: 'nil' stamp: 'PhG 11/21/2021 21:51:19'!
initializeWith: aUsername authenticatedBy: aPassword paysWith: aCreditCardNumber

	username := aUsername.
	password := aPassword.
	creditCardNumber := aCreditCardNumber.! !
!User methodsFor: 'nil' stamp: 'PhG 11/21/2021 21:51:31'!
isAuthenticatedBy: aUsername and: aPassword

	^username = aUsername and: [password = aPassword].! !
!User methodsFor: 'nil' stamp: 'PhG 11/21/2021 21:51:48'!
creditCardNumber
	^creditCardNumber ! !
!MockUserDB methodsFor: 'users' stamp: 'PhG 11/21/2021 21:52:19' prior: 50985526 overrides: 50985510!
users
	^Dictionary new
		at: 'maximoCozzetti' put: 'admin';
		"at: 'maximoCozzetti' put: (User initializeWith: 'mcozzetti' authenticatedBy: 'tortugaMaritima' paysWith: 1234567890123456);"
		yourself! !
!MockUserDB methodsFor: 'users' stamp: 'PhG 11/21/2021 21:52:24' prior: 50987151 overrides: 50985510!
users
	^Dictionary new
		at: 'maximoCozzetti' put: 'tortugaMaritima';
		"at: 'maximoCozzetti' put: (User initializeWith: 'mcozzetti' authenticatedBy: 'tortugaMaritima' paysWith: 1234567890123456);"
		yourself! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:52:30'!
PASSED!
!TusLibrosCreateCartWindowModel methodsFor: 'PluggableButtonSelectors' stamp: 'PhG 11/21/2021 21:52:55' prior: 50984996!
submitLoginRequest

	[
		cartId := restInterface createCartFor: username authenticatedWith: password.
		self triggerEvent: #succesfulLogin.
	]
	on: Error
	do: [:error | 
		errorDescription := error description.
		self triggerEvent: #unsuccesfulLogin.
	].
	
	
	
	"Investiguen mensajes como:
	self triggerEvent: #newWordsArrived with: 1.
	self triggerEvent: #newWordsArrived withArguments: (Array with: 1 with: 2)"! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:56:48'!
PASSED!
!TusLibrosListItemsWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 21:57:17' prior: 50984176!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: TusLibrosCreateCartWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #showCatalogueWindow to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 21:57:38' prior: 50984040!
initializeWith: aTitle andRestInterface: aRestAPI

	restAPI := aRestAPI.
	self setLabel: aTitle.
	self model: TusLibrosCreateCartWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.! !
!TusLibrosCreateCartWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 21:57:45'!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: TusLibrosCreateCartWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.! !

!methodRemoval: TusLibrosCreateCartWindow #initializeWith:andRestInterface: stamp: 'PhG 11/21/2021 21:57:48'!
initializeWith: aTitle andRestInterface: aRestAPI

	restAPI := aRestAPI.
	self setLabel: aTitle.
	self model: TusLibrosCreateCartWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
	
	self model when: #successfulLogin send: #showCatalogueWindow to: self.		
	self model when: #unsuccessfulLogin send: #showInvalidCredentialsRow to: self.!

SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow usernameTextMorph passwordTextMorph createCartButtonMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCreateCartWindow category: 'TusLibros-Model' stamp: 'PhG 11/21/2021 21:57:55'!
SystemWindow subclass: #TusLibrosCreateCartWindow
	instanceVariableNames: 'invalidCredentialsRow usernameTextMorph passwordTextMorph createCartButtonMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCatalogueWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 21:58:03' prior: 50983997!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: TusLibrosCreateCartWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #showCatalogueWindow to: self.! !
!TusLibrosCreateCartWindow class methodsFor: 'instance creation' stamp: 'PhG 11/21/2021 21:58:28'!
open
	
	^self new initializeWith: 'TusLibros: Create Cart'.! !

!methodRemoval: TusLibrosCreateCartWindow class #openWith: stamp: 'PhG 11/21/2021 21:58:30'!
openWith: aRestInterface
	
	^self new initializeWith: 'TusLibros: Create Cart' andRestInterface: aRestInterface.!

!methodRemoval: TusLibrosCreateCartWindowModel class #pairedWith: stamp: 'PhG 11/21/2021 21:58:37'!
pairedWith: aRestInterface

	^TusLibrosCreateCartWindowModel basicNew initializeWith: aRestInterface.!

----SNAPSHOT----(21 November 2021 21:58:51) CuisUniversity-4972.image priorSource: 20974932!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 21:58:56'!
PASSED!
!TusLibrosCreateCartWindowModel methodsFor: 'initialization' stamp: 'PhG 11/21/2021 21:59:46' overrides: 16896425!
initialize

	restInterface := TusLibrosRestInterface new.
	username := ''.
	password := ''.
	cartId := ''.! !

!methodRemoval: TusLibrosCreateCartWindowModel #initializeWith: stamp: 'PhG 11/21/2021 22:00:00'!
initializeWith: aRestInterface

	restInterface := aRestInterface.
	username := ''.
	password := ''.
	cartId := ''.!

Object subclass: #TusLibrosCatalogueWindowModel
	instanceVariableNames: 'restInterface username password cartId errorDescription'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosCatalogueWindowModel category: 'TusLibros-Model' stamp: 'PhG 11/21/2021 22:01:09'!
Object subclass: #TusLibrosCatalogueWindowModel
	instanceVariableNames: 'restInterface username password cartId errorDescription'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosCatalogueWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 22:01:18' prior: 50987589!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: TusLibrosCatalogueWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #showCatalogueWindow to: self.! !

Object subclass: #TusLibrosListItemsWindowModel
	instanceVariableNames: 'restInterface username password cartId errorDescription'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosListItemsWindowModel category: 'TusLibros-Model' stamp: 'PhG 11/21/2021 22:01:31'!
Object subclass: #TusLibrosListItemsWindowModel
	instanceVariableNames: 'restInterface username password cartId errorDescription'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosListItemsWindow methodsFor: 'initialization' stamp: 'PhG 11/21/2021 22:01:38' prior: 50987519!
initializeWith: aTitle

	self setLabel: aTitle.
	self model: TusLibrosListItemsWindowModel new.
	self buildMorphicWindow.
	self openInWorld.
			
	self model when: #newWordsArrived send: #showCatalogueWindow to: self.! !
!TusLibrosListItemsWindowModel methodsFor: 'nil' stamp: 'PhG 11/21/2021 22:01:50' overrides: 16896425!
initialize

	restInterface := TusLibrosRestInterface new.! !
!TusLibrosCatalogueWindowModel methodsFor: 'nil' stamp: 'PhG 11/21/2021 22:02:02' overrides: 16896425!
initialize

	restInterface := TusLibrosRestInterface new.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test09CanNotRemoveItemsFromEmptyCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test10CanNotRemoveItemsThatNotBelongToStore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test11CanNotRemoveNonPositiveNumberOfItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test12CartIsEmptyAfterAddingAndRemovingItem stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test13CanNotRemoveMoreThanOneItemNotSoldByTheStore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test14RemovingOneOfTwoAddedItemsLeavesOneItem stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CartTest #test15CanNotRemoveMoreItemsThanAddedInCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20ListCatalogueOfStoreWithoutCatalogueReturnsEmpty stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21ListCatalogueOfStoreWithCatalogueReturnsCatalogue stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test22CanRemoveItemsFromACreatedCartWithItems stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test23CanNotRemoveItemsFromNotCreatedCart stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test24CanNotRemoveItemNotSoldByTheStore stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test25CanNotRemoveFromCartWhenSessionIsExpired stamp: 'PhG 11/21/2021 22:02:11'!
PASSED!

----QUIT----(21 November 2021 22:03:25) CuisUniversity-4972.image priorSource: 20990906!